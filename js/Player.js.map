{
  "version": 3,
  "file": "Player.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\Player.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class Player\n\n\tconstructor: (keys,x,y,@w,@h) ->  # sixties\n\t\t@M = 120\n\t\t@N = 60\n\t\t@keys = keys\n\t\t@x = width * x / @M # centrum pixels\n\t\t@y = height * y / @N # centrum pixels\n\t\t@history = [3]\n\t\t@target = 2\n\t\t@count = 0\n\t\t@level = 0\n\n\t\t@buttons = []              # x   y   w   h (relativt centrum)\n\t\t@buttons.push new Button @,-10, -5, 7.5, 15, \"\",\"3\"\n\t\t@buttons.push new Button @, 10, -5, 7.5, 15, \"\",\"2\"\n\t\t@buttons.push new Button @,  0, -5, 7.5, 15, keys[0],\"undo\"\n\t\t@buttons.push new Button @,-10, 15, 7.5, 15, keys[1],\"/2\"\n\t\t@buttons.push new Button @,  0, 15, 7.5, 15, keys[2],\"+2\"\n\t\t@buttons.push new Button @, 10, 15, 7.5, 15, keys[3],\"*2\"\n\n\tdraw : ->\n\t\tif @keys == \"WASD\"\n\t\t\tif @target==@top()\n\t\t\t\tfc 0,1,0\n\t\t\telse\n\t\t\t\tfc 1,1,0\n\t\telse\n\t\t\tif @target==@top()\n\t\t\t\tfc 0,1,0\n\t\t\telse\n\t\t\t\tfc 1,0,0\n\n\t\trect 0,0, width * @w / @M, height * @h / @N \n\t\t@buttons[0].txt = @top().toString()\n\t\t@buttons[1].txt = @target.toString()\n\t\tfor button in @buttons\n\t\t\tbutton.draw()\n\t\ttextSize height/20\n\t\tfc 0.5\n\t\ttext @level - @history.length + 1, 0, height * 0.45\n\n\tprocess : (key) ->\n\t\tif @target==@top()\n\t\t\treturn\n\t\t@history.pop() if key==@keys[0] and @history.length>1\n\t\t@save(@top() / 2) if key==@keys[1] and @top()%2==0\n\t\t@save(@top() + 2) if key==@keys[2] \n\t\t@save(@top() * 2) if key==@keys[3]\n\n\tsave : (value) ->\n\t\t@count++\n\t\t@history.push value\n\t\tif @target==@top()\n\t\t\td = new Date()\n\t\t\tms = d.getTime()\n\t\t\t@stopp = int ms \n\n\tmousePressed : -> button.mousePressed() for button in @buttons \n\ttouchStarted : (x,y) -> button.touchStarted(x,y) for button in @buttons \n\tkeyPressed : (key) -> button.keyPressed(key) for button in @buttons\n\n\tscore : -> (@stopp - @start)/1000 + @count * 10 \n\ttop : -> @history[@history.length-1]\n\tfinished : -> @top() == @target\t\t\n\tperfect : (level) -> @finished() and @count <= level\n\n\tdigits = (x) ->\n\t\treturn x.toFixed(3) if x<100\n\t\treturn x.toFixed(2) if x<1000\n\t\treturn x.toFixed(1) if x<10000\n\t\treturn x.toFixed(0)\n\n\tresult :() ->\n\t\tn = 20\n\t\tif @stopp == 0\n\t\t\treturn\n\t\tfill @color\n\t\tH = height / n\n\t\ttextSize H\n\t\tif @keys==\"WASD\" # left\n\t\t\tx0 = -width/8\n\t\t\tdx = -width/8\n\t\telse\n\t\t\tx0 = width/8\n\t\t\tdx = width/8\n\t\ttext digits(@score()), x0, -9.5*H \n\t\tfor number,i in @history\n\t\t\tx = int i / (n-1)\n\t\t\ty = int i % (n-1)\n\t\t\ttext number, x0+x*dx, -8.5*H + y*H\n"
  ]
}